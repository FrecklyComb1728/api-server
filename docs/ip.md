# IP 信息查询接口

提供基于 IP 地址的地理位置及 ISP 信息查询服务，支持多上游自动切换、负载均衡与缓存。

## 接口列表

### 1. 查询 IP 信息
- **路径**: `GET /api/ipinfo`
- **说明**: 查询指定 IP 或当前请求来源 IP 的详细信息。
- **参数**:
    - `ip` (Query 或 Path, 可选): 要查询的 IP 地址。若不提供，则查询当前请求的来源 IP。
- **示例**:
    - `GET /api/ipinfo?ip=1.1.1.1`
    - `GET /api/ipinfo/1.1.1.1`
    - `GET /api/ipinfo`

## 响应结构

```json
{
  "source": "ip9",
  "data": {
    "ip": "1.1.1.1",
    "country": "澳大利亚",
    "prov": "昆士兰州",
    "city": "布里斯班",
    "district": "",
    "isp": "APNIC",
    "lon": "153.021072",
    "lat": "-27.470125"
  },
  "raw_data": { ... }
}
```

## 功能特性
- **多上游支持**: 配置多个 IP 查询服务商。
- **负载均衡**: 支持 `round_robin` (轮询), `random` (随机), `least_used` (最少使用) 策略。
- **重试机制**: 上游失败时自动尝试其他接口。
- **缓存机制**: 默认缓存 7 天 (可配置)。
